Directory structure:
└── jakglewis-jaklewis.com/
    ├── README.md
    ├── 404.html
    ├── _config.yml
    ├── download-image.js
    ├── Gemfile
    ├── index.md.backup
    ├── netlify.toml
    ├── styles.scss
    ├── _includes/
    │   ├── footer.html
    │   ├── head.html
    │   ├── link-previews.html
    │   ├── nav.html
    │   ├── notes_graph.html
    │   ├── notes_graph.json
    │   ├── read-time.html
    │   └── recent-posts.html
    ├── _layouts/
    │   ├── default.html
    │   ├── note.html
    │   └── page.html
    ├── _pages/
    │   ├── about.md
    │   └── index.md
    ├── _plugins/
    │   ├── bidirectional_links_generator.rb
    │   └── empty_front_matter_note_injector.rb
    ├── _sass/
    │   ├── _code.scss
    │   ├── _custom.scss
    │   ├── _normalize.scss
    │   └── _style.scss
    └── assets/
        └── js/
            └── theme-toggle.js

================================================
FILE: README.md
================================================
# Jak Lewis Digital Garden

This repository contains a Jekyll-based digital garden integrated with Obsidian for content creation.

## Project Structure

- `_notes/`: Main content directory (shared with Obsidian)
  - `_staging/`: Draft notes not ready for publishing
- `_pages/`: Static pages (about, now, index)
- `Templates/`: Obsidian templates
- `_layouts/`: HTML templates for different content types
- `_sass/`: Styling files
- `assets/`: Static assets (images, JS, etc.)

## Workflow

### Content Creation

1. **Write in Obsidian:**
   - Use the Note Template from the Templates menu (Ctrl/Cmd+P, then search for "Templates: Insert template")
   - Place drafts in `_notes/_staging/`
   - Move to `_notes/` when ready to publish

2. **Front Matter Requirements:**
   - All notes must have front matter with at least title and date
   - Example:
     ```yaml
     ---
     title: Your Note Title
     date: YYYY-MM-DD
     tags: [optional, tags]
     ---
     ```

### Local Development

```bash
bundle exec jekyll serve
```

Visit http://127.0.0.1:4000 in your browser.

### Deployment

The site is automatically deployed via Netlify when changes are pushed to GitHub.

## Design

The site features a minimalist design inspired by Steph Ango with:
- Clean typography
- Light/dark mode support
- Single column layout for readability

## Technical Details

- Based on Jekyll 4.2.0
- Ruby 2.7.2
- Bundler 2.4.22
- Netlify for hosting

## Customization

- `_sass/_custom.scss`: Main styles
- `_layouts/`: HTML templates
- `_config.yml`: Jekyll configuration



================================================
FILE: 404.html
================================================
---
permalink: 404.html
layout: default
title: "404"
id: "not-found"
---

<div>
  <h1>Oops, that's a 404. 🙈</h1>
  <p>Looks like this page doesn't exist. <a href="{{ site.baseurl }}/">Return home</a> to get a fresh start.</p>
</div>



================================================
FILE: _config.yml
================================================
title:               Jak Lewis
include:             ['_pages']
exclude:             ['_includes/notes_graph.json']
# You may need to change the base URL depending on your deploy configuration.
baseurl:             ''

# If you are using a host that cannot resolve URLs that do
# not end with .html (such as Neocities), set this to 'true'.
use_html_extension:  false

# Set to `true` to open non-internal links in new tabs, or
# set to `false` to open non-internal links in current tab.
open_external_links_in_new_tab: true

# Set to `true` to replace tweet URLs with Twitter embeds.
# Note that doing so will negatively the reader's privacy
# as their browser will communicate with Twitter's servers.
embed_tweets: false

permalink:           pretty
relative_permalinks: false

plugins:
  - jekyll-relative-links

sass:
  sass_dir:          _sass
  style:            :compressed

collections:
  notes:
    output: true
    permalink: /:slug
  pages:
    output: true
    permalink: /:slug

defaults:
  - scope:
      path: "**/*"
    values:
      layout: "default"
  - scope:
      path: "_notes/**/*.md"
    values:
      layout: "note"
  - scope:
      path: "_pages/**/*.md"
    values:
      layout: "page"



================================================
FILE: download-image.js
================================================
const https = require('https');
const fs = require('fs');
const path = require('path');

// The URL of the image to download
const url = 'https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd8206cd-20b3-4618-80a1-368614ee6770_1280x1012.jpeg';

// The path where you want to save the image
const filePath = path.join(__dirname, 'assets', 'images', 'posts', 'night-grove-wiesenfeld.jpg');

// Create a write stream for the file
const file = fs.createWriteStream(filePath);

// Download the image
https.get(url, (response) => {
  // Check if the request was successful
  if (response.statusCode !== 200) {
    console.error(`Failed to download image: ${response.statusCode} ${response.statusMessage}`);
    file.close();
    fs.unlinkSync(filePath);
    return;
  }

  // Pipe the image data to the file
  response.pipe(file);

  file.on('finish', () => {
    file.close();
    console.log(`Image downloaded to ${filePath}`);
  });
}).on('error', (err) => {
  console.error(`Error downloading image: ${err.message}`);
  file.close();
  fs.unlinkSync(filePath);
});



================================================
FILE: Gemfile
================================================
source "https://rubygems.org"

ruby "2.7.2"

gem "jekyll", "~> 4.2.0"
gem "webrick", "~> 1.7"
gem "ffi", ">= 1.15.0"

group :jekyll_plugins do
  gem "jekyll-relative-links"
end

# Windows and JRuby does not include zoneinfo files, so bundle the tzinfo-data gem
platforms :mingw, :x64_mingw, :mswin, :jruby do
  gem "tzinfo", "~> 1.2"
  gem "tzinfo-data"
end

# Performance-booster for watching directories on Windows
gem "wdm", "~> 0.1.1", :platforms => [:mingw, :x64_mingw, :mswin]


================================================
FILE: index.md.backup
================================================
---
layout: default
title: Jak Banks
---

# [About](/About) [Now](/Now)

{% assign notes = site.notes | where_exp: "item", "item.path contains '.md'" | sort: "date" | reverse %}
{% assign latest_note = notes | first %}

I write [Sowing Stars](https://sowingstars.substack.com/), a newsletter about soulmaking. This site contains the full galaxy of what I'm exploring., a newsletter about soulmaking. This site contains the full galaxy of what I'm exploring.
## Latest

### [{{ latest_note.title }}]({{ latest_note.url }})
{% if latest_note.date %}{{ latest_note.date | date: "%B %d, %Y" }}{% else %}Recently updated{% endif %}

{{ latest_note.content | strip_html | truncatewords: 30 }}
[Keep reading →]({{ latest_note.url }})

***

## Writing

{% for note in notes %}
- [{{ note.title }}]({{ note.url }})
{% endfor %}



================================================
FILE: netlify.toml
================================================
[build]
  command = "bundle exec jekyll build"
  publish = "_site"

[build.environment]
  RUBY_VERSION = "2.7.2"
  BUNDLER_VERSION = "2.4.22"



================================================
FILE: styles.scss
================================================
---
---

@import "../_sass/normalize";
@import "../_sass/code";
@import "../_sass/style";
@import "../_sass/custom";



================================================
FILE: _includes/footer.html
================================================
This is the footer. Include anything you'd like here, like a link to an <a class="internal-link" href="{{ site.baseurl }}/about">About</a> page.



================================================
FILE: _includes/head.html
================================================
<head>
  <meta charset="UTF-8">

  <link rel="canonical" href="{{ site.url }}{{ page.url }}" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.title }}{% endif %}">

  <meta property="og:site_name" content="{{ site.title }}">

  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo=">

  <link rel="stylesheet" href="{{ site.baseurl }}/styles.css">

  {% if page.excerpt %}
  <meta property="og:description" content="{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}"/>
  {% else %}
  <meta property="og:description" content="{{ site.title | strip_html | strip_newlines | truncate: 160 }}"/>
  {% endif %}

  {% if page.title %}
  <meta property="og:title" content="{{ page.title }}">
  <meta property="og:type" content="article">
  {% else %}
  <meta property="og:title" content="{{ site.title }}">
  <meta property="og:type" content="website">
  {% endif %}

  {% if page.date %}
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
  <meta property="article:author" content="{{ site.url }}/">
  {% endif %}

  <meta property="og:url" content="{{ site.url }}{{ page.url }}" />

  {% if page.image %}
  <meta property="og:image" content="{{ site.url }}{{ page.image }}">
  {% endif %}

  <title>
    {% if page.url == "/" %}
      {{ site.title }}
    {% else %}
      {{ page.title }}
    {% endif %}
  </title>
</head>



================================================
FILE: _includes/link-previews.html
================================================
<!-- That file is not particularly elegant. This will need a refactor at some point. -->
<style>
  content a.internal-link {
    border-color: #8b88e6;
    background-color: #efefff;
  }

  #tooltip-wrapper {
    background: white;
    padding: 1em;
    border: 1px solid #ddd;
    border-radius: 4px;
    overflow: hidden;
    position: absolute;
    width: 400px;
    height: 250px;
    font-size: 0.8em;
    box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    opacity: 0;
    transition: opacity 100ms;
  }

  #tooltip-wrapper:after {
		content: "";
		position: absolute;
		z-index: 1;
		bottom: 0;
		left: 0;
		pointer-events: none;
		background-image: linear-gradient(to bottom, rgba(255,255,255, 0), rgba(255,255,255, 1) 90%);
		width: 100%;
		height: 75px;
  }
</style>

<div style="opacity: 0; display: none;" id='tooltip-wrapper'>
  <div id='tooltip-content'>
  </div>
</div>

<iframe style="display: none; height: 0; width: 0;" id='link-preview-iframe' src="">
</iframe>

<script>
  var opacityTimeout;
  var contentTimeout;
  var transitionDurationMs = 100;

  var iframe = document.getElementById('link-preview-iframe')
  var tooltipWrapper = document.getElementById('tooltip-wrapper')
  var tooltipContent = document.getElementById('tooltip-content')

  var linkHistories = {};

  function hideTooltip() {
    opacityTimeout = setTimeout(function() {
      tooltipWrapper.style.opacity = 0;
      contentTimeout = setTimeout(function() {
        tooltipContent.innerHTML = '';
        tooltipWrapper.style.display = 'none';
      }, transitionDurationMs + 1);
    }, transitionDurationMs)
  }

  function showTooltip(event) {
    var elem = event.target;
    var elem_props = elem.getClientRects()[elem.getClientRects().length - 1];
    var top = window.pageYOffset || document.documentElement.scrollTop

    if (event.target.host === window.location.host) {
      if (!linkHistories[event.target.href]) {
        iframe.src = event.target.href
        iframe.onload = function() {
          tooltipContentHtml = ''
          tooltipContentHtml += '<div style="font-weight: bold;">' + iframe.contentWindow.document.querySelector('h1').innerHTML + '</div>'
          tooltipContentHtml += iframe.contentWindow.document.querySelector('content').innerHTML

          tooltipContent.innerHTML = tooltipContentHtml
          linkHistories[event.target.href] = tooltipContentHtml

          tooltipWrapper.style.display = 'block';
          setTimeout(function() {
            tooltipWrapper.style.opacity = 1;
          }, 1)
        } 
      } else {
        tooltipContent.innerHTML = linkHistories[event.target.href]
        tooltipWrapper.style.display = 'block';
        setTimeout(function() {
          tooltipWrapper.style.opacity = 1;
        }, 1)
      }


      tooltipWrapper.style.left = elem_props.left - (tooltipWrapper.offsetWidth / 2) + (elem_props.width / 2) + "px";
      if ((window.innerHeight - elem_props.top) < (tooltipWrapper.offsetHeight)) {
          tooltipWrapper.style.top = elem_props.top + top - tooltipWrapper.offsetHeight - 10 + "px";
      } else if ((window.innerHeight - elem_props.top) > (tooltipWrapper.offsetHeight)) {
          tooltipWrapper.style.top = elem_props.top + top + 35 + "px";
      }

      if ((elem_props.left + (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
          tooltipWrapper.style.left = "10px";
      } else if ((document.body.clientWidth - elem_props.left - (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
          tooltipWrapper.style.left = document.body.clientWidth - tooltipWrapper.offsetWidth - 20 + "px";
      }
    }
  }

  function setupListeners(linkElement) {
    linkElement.addEventListener('mouseleave', function(_event) {
      hideTooltip();
    });

    tooltipWrapper.addEventListener('mouseleave', function(_event) {
      hideTooltip();
    });

    linkElement.addEventListener('touchend', function(_event) {
      hideTooltip();
    });

    tooltipWrapper.addEventListener('touchend', function(_event) {
      hideTooltip();
    });

    linkElement.addEventListener('mouseenter', function(event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
      showTooltip(event);
    });

    tooltipWrapper.addEventListener('mouseenter', function(event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
    });
  }

  document.querySelectorAll('{{ include.wrapperQuerySelector }} a').forEach(setupListeners);
</script>



================================================
FILE: _includes/nav.html
================================================
<div>
    <a class="internal-link" href="{{ site.baseurl }}/"><b>{{ site.title }}</b></a>
</div>



================================================
FILE: _includes/notes_graph.html
================================================
<style>
  .links line {
    stroke: #ccc;
    opacity: 0.5;
  }

  .nodes circle {
    cursor: pointer;
    fill: #8b88e6;
    transition: all 0.15s ease-out;
  }

  .text text {
    cursor: pointer;
    fill: #333;
    text-shadow: -1px -1px 0 #fafafabb, 1px -1px 0 #fafafabb, -1px 1px 0 #fafafabb, 1px 1px 0 #fafafabb;
  }

  .nodes [active],
  .text [active] {
    cursor: pointer;
    fill: black;
  }

  .inactive {
    opacity: 0.1;
    transition: all 0.15s ease-out;
  }

  #graph-wrapper {
    background: #fcfcfc;
    border-radius: 4px;
    height: auto;
  }
  
  #graph-wrapper > svg {
    max-width: 100%;
    display: block;
  }
</style>

<div id="graph-wrapper">
  <script>
    window.addEventListener("load", loadGraph);

    function loadGraph() {
      var oScript = document.createElement("script");
      oScript.src = "https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js";
      oScript.crossOrigin = 'anonymous';
      oScript.integrity =
        "sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg==";
      document.body.appendChild(oScript);
      oScript.onload = () => {
        const MINIMAL_NODE_SIZE = 8;
        const MAX_NODE_SIZE = 12;
        const ACTIVE_RADIUS_FACTOR = 1.5;
        const STROKE = 1;
        const FONT_SIZE = 16;
        const TICKS = 200;
        const FONT_BASELINE = 40;
        const MAX_LABEL_LENGTH = 50;

        const graphData = {% include notes_graph.json %}
        let nodesData = graphData.nodes;
        let linksData = graphData.edges;

        const nodeSize = {};

        const updateNodeSize = () => {
          nodesData.forEach((el) => {
            let weight =
              3 *
              Math.sqrt(
                linksData.filter((l) => l.source.id === el.id || l.target.id === el.id)
                  .length + 1
              );
            if (weight < MINIMAL_NODE_SIZE) {
              weight = MINIMAL_NODE_SIZE;
            } else if (weight > MAX_NODE_SIZE) {
              weight = MAX_NODE_SIZE;
            }
            nodeSize[el.id] = weight;
          });
        };

        const onClick = (d) => {
          window.location = d.path
        };

        const onMouseover = function (d) {
          const relatedNodesSet = new Set();
          linksData
            .filter((n) => n.target.id == d.id || n.source.id == d.id)
            .forEach((n) => {
              relatedNodesSet.add(n.target.id);
              relatedNodesSet.add(n.source.id);
            });

          node.attr("class", (node_d) => {
            if (node_d.id !== d.id && !relatedNodesSet.has(node_d.id)) {
              return "inactive";
            }
            return "";
          });

          link.attr("class", (link_d) => {
            if (link_d.source.id !== d.id && link_d.target.id !== d.id) {
              return "inactive";
            }
            return "";
          });

          link.attr("stroke-width", (link_d) => {
            if (link_d.source.id === d.id || link_d.target.id === d.id) {
              return STROKE * 4;
            }
            return STROKE;
          });
          text.attr("class", (text_d) => {
            if (text_d.id !== d.id && !relatedNodesSet.has(text_d.id)) {
              return "inactive";
            }
            return "";
          });
        };

        const onMouseout = function (d) {
          node.attr("class", "");
          link.attr("class", "");
          text.attr("class", "");
          link.attr("stroke-width", STROKE);
        };

        const sameNodes = (previous, next) => {
          if (next.length !== previous.length) {
            return false;
          }

          const map = new Map();
          for (const node of previous) {
            map.set(node.id, node.label);
          }

          for (const node of next) {
            const found = map.get(node.id);
            if (!found || found !== node.title) {
              return false;
            }
          }

          return true;
        };

        const sameEdges = (previous, next) => {
          if (next.length !== previous.length) {
            return false;
          }

          const set = new Set();
          for (const edge of previous) {
            set.add(`${edge.source.id}-${edge.target.id}`);
          }

          for (const edge of next) {
            if (!set.has(`${edge.source.id}-${edge.target.id}`)) {
              return false;
            }
          }

          return true;
        };

        const graphWrapper = document.getElementById('graph-wrapper')
        const element = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        element.setAttribute("width", graphWrapper.getBoundingClientRect().width);
        element.setAttribute("height", window.innerHeight * 0.8);
        graphWrapper.appendChild(element);

        const reportWindowSize = () => {
          element.setAttribute("width", window.innerWidth);
          element.setAttribute("height", window.innerHeight);
        };

        window.onresize = reportWindowSize;

        const svg = d3.select("svg");
        const width = Number(svg.attr("width"));
        const height = Number(svg.attr("height"));
        let zoomLevel = 1;

        const simulation = d3
          .forceSimulation(nodesData)
          .force("forceX", d3.forceX().x(width / 2))
          .force("forceY", d3.forceY().y(height / 2))
          .force("charge", d3.forceManyBody())
          .force(
            "link",
            d3
              .forceLink(linksData)
              .id((d) => d.id)
              .distance(70)
          )
          .force("center", d3.forceCenter(width / 2, height / 2))
          .force("collision", d3.forceCollide().radius(80))
          .stop();

        const g = svg.append("g");
        let link = g.append("g").attr("class", "links").selectAll(".link");
        let node = g.append("g").attr("class", "nodes").selectAll(".node");
        let text = g.append("g").attr("class", "text").selectAll(".text");

        const resize = () => {
          if (d3.event) {
            const scale = d3.event.transform;
            zoomLevel = scale.k;
            g.attr("transform", scale);
          }

          const zoomOrKeep = (value) => (zoomLevel >= 1 ? value / zoomLevel : value);

          const font = Math.max(Math.round(zoomOrKeep(FONT_SIZE)), 1);

          text.attr("font-size", (d) => font);
          text.attr("y", (d) => d.y - zoomOrKeep(FONT_BASELINE) + 8);
          link.attr("stroke-width", zoomOrKeep(STROKE));
          node.attr("r", (d) => {
            return zoomOrKeep(nodeSize[d.id]);
          });
          svg
            .selectAll("circle")
            .filter((_d, i, nodes) => d3.select(nodes[i]).attr("active"))
            .attr("r", (d) => zoomOrKeep(ACTIVE_RADIUS_FACTOR * nodeSize[d.id]));
        };

        const ticked = () => {
          node.attr("cx", (d) => d.x).attr("cy", (d) => d.y);
          text
            .attr("x", (d) => d.x)
            .attr("y", (d) => d.y - (FONT_BASELINE - nodeSize[d.id]) / zoomLevel);
          link
            .attr("x1", (d) => d.source.x)
            .attr("y1", (d) => d.source.y)
            .attr("x2", (d) => d.target.x)
            .attr("y2", (d) => d.target.y);
        };

        const restart = () => {
          updateNodeSize();
          node = node.data(nodesData, (d) => d.id);
          node.exit().remove();
          node = node
            .enter()
            .append("circle")
            .attr("r", (d) => {
              return nodeSize[d.id];
            })
            .on("click", onClick)
            .on("mouseover", onMouseover)
            .on("mouseout", onMouseout)
            .merge(node);

          link = link.data(linksData, (d) => `${d.source.id}-${d.target.id}`);
          link.exit().remove();
          link = link.enter().append("line").attr("stroke-width", STROKE).merge(link);

          text = text.data(nodesData, (d) => d.label);
          text.exit().remove();
          text = text
            .enter()
            .append("text")
            .text((d) => shorten(d.label.replace(/_*/g, ""), MAX_LABEL_LENGTH))
            .attr("font-size", `${FONT_SIZE}px`)
            .attr("text-anchor", "middle")
            .attr("alignment-baseline", "central")
            .on("click", onClick)
            .on("mouseover", onMouseover)
            .on("mouseout", onMouseout)
            .merge(text);

          node.attr("active", (d) => isCurrentPath(d.path) ? true : null);
          text.attr("active", (d) => isCurrentPath(d.path) ? true : null);

          simulation.nodes(nodesData);
          simulation.force("link").links(linksData);
          simulation.alpha(1).restart();
          simulation.stop();

          for (let i = 0; i < TICKS; i++) {
            simulation.tick();
          }

          ticked();
        };

        const zoomHandler = d3.zoom().scaleExtent([0.2, 3]).on("zoom", resize);

        zoomHandler(svg);
        restart();

        function isCurrentPath(notePath) {
          return window.location.pathname.includes(notePath)
        }

        function shorten(str, maxLen, separator = ' ') {
          if (str.length <= maxLen) return str;
          return str.substr(0, str.lastIndexOf(separator, maxLen)) + '...';
        }
      }
    }
  </script>
</div>



================================================
FILE: _includes/notes_graph.json
================================================
{"edges":[],"nodes":[{"id":"87104121329711410132121111117321151113297102114971051003211611132991141019711610163","path":"/why-are-you-so-afraid-to-create","label":"Why are you so afraid to create?"},{"id":"77101971101051101031021171083299104971101031013211010111810111432991111091011153211910511610411111711632108111115115","path":"/meaningful-change-never-comes-without-loss","label":"Meaningful change never comes without loss"},{"id":"733210811111810132121111117443210710110111232103111105110103","path":"/i-love-you-keep-going","label":"I love you, keep going"},{"id":"871041011103297109981051161051111103211610410510111810111532116105109101","path":"/when-ambition-thieves-time","label":"When ambition thieves time"},{"id":"84104101321031141011011003210511032116111100971213911532108111118101","path":"/the-greed-in-today-s-love","label":"The greed in today's love"},{"id":"841041051101071051101033210511532115117102102111999711610511010332121111117","path":"/thinking-is-suffocating-you","label":"Thinking is suffocating you"},{"id":"709710810810511010332971101003270108121105110103","path":"/falling-and-flying","label":"Falling and Flying"},{"id":"83971171159710310111532971101003211599114971099810810110032101103103115","path":"/sausages-and-scrambled-eggs","label":"Sausages and scrambled eggs"}]}


================================================
FILE: _includes/read-time.html
================================================
{% assign words = include.content | strip_html | number_of_words %}
{% if words < 360 %}
  1 minute read
{% else %}
  {{ words | divided_by: 180.0 | round }} minute read
{% endif %}



================================================
FILE: _includes/recent-posts.html
================================================
{% if site.posts.size > 0 %}
<div class="recent-posts">
  <h2>Recent Writing</h2>
  <div class="posts-list">
    {% for post in site.posts limit:5 %}
      <div class="writing-entry">
        <div class="writing-date">{{ post.date | date: "%b %d, %Y" }}</div>
        <div class="writing-title"><a href="{{ post.url }}">{{ post.title }}</a></div>
      </div>
    {% endfor %}
  </div>
  <p class="see-all-link"><a href="/writing">See all posts →</a></p>
</div>
{% endif %}



================================================
FILE: _layouts/default.html
================================================
<!DOCTYPE html>
<html lang="en">
  {% include head.html %}
  <body>
    <div class="container">
      <div class="header">
        <div class="site-title"><a href="{{ site.baseurl }}/">Jak Banks</a> / 
          {% if page.url contains "/about" %}
            <a href="{{ site.baseurl }}/about">About</a>
          {% elsif page.url contains "/now" %}
            <a href="{{ site.baseurl }}/now">Now</a>
          {% else %}
            <a href="{{ site.baseurl }}/">Writing</a>
          {% endif %}
        </div>
        <div class="nav-links">
          <a href="/about">About</a>
          <a href="/now">Now</a>
          <a href="#" id="theme-toggle" aria-label="Toggle dark mode">☀️</a>
        </div>
      </div>
      
      <main>{{ content }}</main>
      
      <footer>
        <p>© {{ 'now' | date: "%Y" }} Jak Banks · <a href="https://sowingstars.substack.com/">Newsletter</a> · <a href="https://twitter.com/SowingStars_">Twitter</a></p>
      </footer>
    </div>

    <script>
      // Theme toggle script
      const themeToggle = document.getElementById('theme-toggle');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      // Set initial state based on user preference
      if (localStorage.getItem('theme')) {
        document.body.classList.add(localStorage.getItem('theme'));
        themeToggle.innerText = localStorage.getItem('theme') === 'dark-theme' ? '☀️' : '🌙';
      } else if (prefersDark) {
        document.body.classList.add('dark-theme');
        themeToggle.innerText = '☀️';
      } else {
        document.body.classList.add('light-theme');
        themeToggle.innerText = '🌙';
      }
      
      themeToggle.addEventListener('click', (e) => {
        e.preventDefault();
        if (document.body.classList.contains('light-theme')) {
          document.body.classList.remove('light-theme');
          document.body.classList.add('dark-theme');
          themeToggle.innerText = '☀️';
          localStorage.setItem('theme', 'dark-theme');
        } else {
          document.body.classList.remove('dark-theme');
          document.body.classList.add('light-theme');
          themeToggle.innerText = '🌙';
          localStorage.setItem('theme', 'light-theme');
        }
      });
    </script>
  </body>
</html>



================================================
FILE: _layouts/note.html
================================================
---
layout: default
---

<article>
  <h1>{{ page.title }}</h1>
  
  <div class="note-metadata">
    {% if page.date %}
    <time datetime="{{ page.date | date_to_xmlschema }}">
      {{ page.date | date: "%B %-d, %Y" }}
    </time>
    {% if page.readtime %} · {{ page.readtime }} read
    {% elsif page.content.size > 2000 %} · {{ page.content.size | divided_by: 1000 | round }} minute read
    {% else %} · 1 minute read{% endif %}
    {% endif %}
  </div>

  <div class="note-content">
    {{ content }}
  </div>

  {% if page.tags.size > 0 %}
  <div class="note-tags">
    {% for tag in page.tags %}
    <a href="/tags#{{ tag | slugify }}" class="tag">{{ tag }}</a>
    {% endfor %}
  </div>
  {% endif %}

  <div class="note-footer">
    <div class="note-related">
      <h3>You might also enjoy</h3>
      <ul>
        {% assign related_posts = site.posts | sample: 5 %}
        {% for post in related_posts limit: 5 %}
        <li><a href="{{ post.url }}">{{ post.title }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
</article>



================================================
FILE: _layouts/page.html
================================================
---
layout: default
---

<article>
  <div class="page-content">
    {{ content }}
  </div>
</article>



================================================
FILE: _pages/about.md
================================================
---
title: About
permalink: /about
layout: page
---

## Background

I'm Jak. I've sat on high functioning deal teams, and highly technical data teams. 

**Investment track record:** £230M+ deployed as Senior Investor across 7 consumer brands. Observer/advisor to 6 portfolio companies. Led complex cross-border structuring.

**Technical foundation:** 700+ hours ML/AI training. Built credit risk scoring engines using deep learning. 

Here's a snapshot of my career: 
* Until 2025, I worked as an investor and data lead in London at The Craftory 
- Until 2021, I worked as a data scientist at CrossLend in Berlin 
- Until 2019, I worked in Leveraged Finance at Citi 
- Until 2017 I studied Mathematics & Economics at Durham 

## Technical Track Record

### Wolfbrain - The Craftory's sourcing engine

Built for The Craftory. Identifies 1000s of brands, delivers 100+ pre-screened leads monthly. Comparable systems used by EQT's Motherbrain and SignalFire's Beacon.
### SST - ML driven screening engine

### Technical Stack

Python (pandas, scrapy), PostgreSQL, AWS/GCP, API integrations (SimilarWeb, Consumer Edge, SPINS), LLM implementations (Claude & ChatGPT APIs).
## Projects

Other hats I've worn:

* [Sculpture](https://photos.google.com/share/AF1QipNkKOQOn75IPUlEVs6k1sA-qbo4GgSBkANz2Ufg4yc3vMRiUDWS-YJ9cRUmuYyHew?key=T3Q5X2pIUW9UTFVMUkUyNUlYSlQtcF8zLWJ6NHF3)
* [Pottery](https://photos.google.com/u/1/share/AF1QipOfvOVwXMrF40y9OdeAa1okKCtg4EpwHVT7TfnGD-vlRuN5dMY6qQSPcMQwBvGH4Q?key=dTJRQkJ3MXdTWVJlcktlUDl3aUVrS243RkI4LWhB)

***



================================================
FILE: _pages/index.md
================================================
---
layout: default
title: Jak Lewis
permalink: /
---
# I build deal sourcing engines that work.

I've deployed £250M+ as a Senior Investor and built the data infrastructure that made it possible. Most funds want data-driven deal flow, very few have it.

I bridge that gap.

"Discuss your project" 

***
## Who I work with

Series A-C consumer VC funds. £50M-£500M AUM. Teams of 3-50 people.

***
### Pricing 

I have zero interest in charging you for work that doesn't solve your problem. You pay based on satisfaction with delivery. No results, no charge. 

We agree on deliverables and success criteria upfront. Projects typically range £3k-£45k depending on scope.

***
## Services

**Fractional CTO/Data Officer** - When you need solutions without a full fledged data team

**Data strategy** - For funds transitioning from manual to data-driven

**Infrastructure upgrades** - Better databases, better tools, better processes

**Deal sourcing engines** - Brand discovery across multiple data sources

***



================================================
FILE: _plugins/bidirectional_links_generator.rb
================================================
# frozen_string_literal: true
class BidirectionalLinksGenerator < Jekyll::Generator
  def generate(site)
    graph_nodes = []
    graph_edges = []

    all_notes = site.collections['notes'].docs
    all_pages = site.pages

    all_docs = all_notes + all_pages

    link_extension = !!site.config["use_html_extension"] ? '.html' : ''

    # Convert all Wiki/Roam-style double-bracket link syntax to plain HTML
    # anchor tag elements (<a>) with "internal-link" CSS class
    all_docs.each do |current_note|
      all_docs.each do |note_potentially_linked_to|
        note_title_regexp_pattern = Regexp.escape(
          File.basename(
            note_potentially_linked_to.basename,
            File.extname(note_potentially_linked_to.basename)
          )
        ).gsub('\_', '[ _]').gsub('\-', '[ -]').capitalize

        title_from_data = note_potentially_linked_to.data['title']
        if title_from_data
          title_from_data = Regexp.escape(title_from_data)
        end

        new_href = "#{site.baseurl}#{note_potentially_linked_to.url}#{link_extension}"
        anchor_tag = "<a class='internal-link' href='#{new_href}'>\\1</a>"

        # Replace double-bracketed links with label using note title
        # [[A note about cats|this is a link to the note about cats]]
        current_note.content.gsub!(
          /\[\[#{note_title_regexp_pattern}\|(.+?)(?=\])\]\]/i,
          anchor_tag
        )

        # Replace double-bracketed links with label using note filename
        # [[cats|this is a link to the note about cats]]
        current_note.content.gsub!(
          /\[\[#{title_from_data}\|(.+?)(?=\])\]\]/i,
          anchor_tag
        )

        # Replace double-bracketed links using note title
        # [[a note about cats]]
        current_note.content.gsub!(
          /\[\[(#{title_from_data})\]\]/i,
          anchor_tag
        )

        # Replace double-bracketed links using note filename
        # [[cats]]
        current_note.content.gsub!(
          /\[\[(#{note_title_regexp_pattern})\]\]/i,
          anchor_tag
        )
      end

      # At this point, all remaining double-bracket-wrapped words are
      # pointing to non-existing pages, so let's turn them into disabled
      # links by greying them out and changing the cursor
      current_note.content = current_note.content.gsub(
        /\[\[([^\]]+)\]\]/i, # match on the remaining double-bracket links
        <<~HTML.delete("\n") # replace with this HTML (\\1 is what was inside the brackets)
          <span title='There is no note that matches this link.' class='invalid-link'>
            <span class='invalid-link-brackets'>[[</span>
            \\1
            <span class='invalid-link-brackets'>]]</span></span>
        HTML
      )
    end

    # Identify note backlinks and add them to each note
    all_notes.each do |current_note|
      # Nodes: Jekyll
      notes_linking_to_current_note = all_notes.filter do |e|
        e.content.include?(current_note.url)
      end

      # Nodes: Graph
      graph_nodes << {
        id: note_id_from_note(current_note),
        path: "#{site.baseurl}#{current_note.url}#{link_extension}",
        label: current_note.data['title'],
      } unless current_note.path.include?('_notes/index.html')

      # Edges: Jekyll
      current_note.data['backlinks'] = notes_linking_to_current_note

      # Edges: Graph
      notes_linking_to_current_note.each do |n|
        graph_edges << {
          source: note_id_from_note(n),
          target: note_id_from_note(current_note),
        }
      end
    end

    File.write('_includes/notes_graph.json', JSON.dump({
      edges: graph_edges,
      nodes: graph_nodes,
    }))
  end

  def note_id_from_note(note)
    note.data['title'].bytes.join
  end
end



================================================
FILE: _plugins/empty_front_matter_note_injector.rb
================================================
# frozen_string_literal: true

EMPTY_FRONT_MATTER = <<~JEKYLL
  ---
  ---

JEKYLL

# Inject empty front matter in notes that don't have any
Jekyll::Hooks.register :site, :after_init do |site|
  Dir.glob(site.collections['notes'].relative_directory + '/**/*.md').each do |filename|
    raw_note_content = File.read(filename)
    unless raw_note_content.start_with?('---')
      raw_note_content.prepend(EMPTY_FRONT_MATTER)
      File.write(filename, raw_note_content)
    end
  end
end



================================================
FILE: _sass/_code.scss
================================================
.highlight  {
  background: #f8f8f8;
  padding: 1px 1em;
  border-radius: 3px;
  font-size: 1em;
  font-size: 0.9em;
  overflow: auto;
  margin: 1em -1em;
  code{
    padding: 0;
  }
}

div.highlight {
  display: grid;
}

.highlight .c { color: #999988; font-style: italic } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { font-weight: bold } /* Keyword */
.highlight .o { font-weight: bold } /* Operator */
.highlight .cm { color: #999988; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #999999; font-weight: bold } /* Comment.Preproc */
.highlight .c1 { color: #999988; font-style: italic } /* Comment.Single */
.highlight .cs { color: #999999; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .gd .x { color: #000000; background-color: #ffaaaa } /* Generic.Deleted.Specific */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #999999 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .gi .x { color: #000000; background-color: #aaffaa } /* Generic.Inserted.Specific */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #aaaaaa } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { font-weight: bold } /* Keyword.Constant */
.highlight .kd { font-weight: bold } /* Keyword.Declaration */
.highlight .kp { font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #445588; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #009999 } /* Literal.Number */
.highlight .s { color: #d14 } /* Literal.String */
.highlight .na { color: #008080 } /* Name.Attribute */
.highlight .nb { color: #0086B3 } /* Name.Builtin */
.highlight .nc { color: #445588; font-weight: bold } /* Name.Class */
.highlight .no { color: #008080 } /* Name.Constant */
.highlight .ni { color: #800080 } /* Name.Entity */
.highlight .ne { color: #990000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #990000; font-weight: bold } /* Name.Function */
.highlight .nn { color: #555555 } /* Name.Namespace */
.highlight .nt { color: #000080 } /* Name.Tag */
.highlight .nv { color: #008080 } /* Name.Variable */
.highlight .ow { font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #009999 } /* Literal.Number.Float */
.highlight .mh { color: #009999 } /* Literal.Number.Hex */
.highlight .mi { color: #009999 } /* Literal.Number.Integer */
.highlight .mo { color: #009999 } /* Literal.Number.Oct */
.highlight .sb { color: #d14 } /* Literal.String.Backtick */
.highlight .sc { color: #d14 } /* Literal.String.Char */
.highlight .sd { color: #d14 } /* Literal.String.Doc */
.highlight .s2 { color: #d14 } /* Literal.String.Double */
.highlight .se { color: #d14 } /* Literal.String.Escape */
.highlight .sh { color: #d14 } /* Literal.String.Heredoc */
.highlight .si { color: #d14 } /* Literal.String.Interpol */
.highlight .sx { color: #d14 } /* Literal.String.Other */
.highlight .sr { color: #009926 } /* Literal.String.Regex */
.highlight .s1 { color: #d14 } /* Literal.String.Single */
.highlight .dl { color: #d14 } /* Literal.String.Delimiter */
.highlight .ss { color: #990073 } /* Literal.String.Symbol */
.highlight .bp { color: #999999 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #008080 } /* Name.Variable.Class */
.highlight .vg { color: #008080 } /* Name.Variable.Global */
.highlight .vi { color: #008080 } /* Name.Variable.Instance */
.highlight .il { color: #009999 } /* Literal.Number.Integer.Long */



================================================
FILE: _sass/_custom.scss
================================================
// Steph Ango inspired styling

// Variables
$text-color: #333333;
$background-color: #faf6f1;
$link-color: #333;
$link-hover-color: #4169e1; // Royal blue
$border-color: #e1e1e1;
$accent-color: #555;
$font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;

body {
  font-family: $font-family;
  line-height: 1.6;
  color: $text-color;
  background-color: $background-color;
  margin: 0;
  padding: 0;
}

.container {
  width: 650px;
  margin: 0 auto;
  padding: 2rem 0;
  
  @media (max-width: 700px) {
    width: auto;
    padding: 1rem;
  }
}

// Typography
h1, h2, h3, h4, h5, h6 {
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.25;
  font-weight: 500;
}

h1 {
  font-size: 2rem;
  margin-bottom: 0.5rem;
}

h2 {
  font-size: 1.5rem;
  margin-top: 2.5rem;
  margin-bottom: 1.25rem;
}

h3 {
  font-size: 1.25rem;
  font-weight: 500;
  margin: 0.5rem 0 0.25rem 0;
  padding: 0;
}

p {
  margin-top: 0;
  margin-bottom: 1.5rem;
}

// Lists
ul, ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
  
  li {
    margin-bottom: 0.5rem;
    
    &::marker {
      color: #999;
    }
  }
}

// Links
a {
  color: $link-color;
  text-decoration: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.7); // Darker underline
  
  &:hover {
    color: $link-hover-color;
    border-bottom-color: $link-hover-color; // Match underline to text
    background: transparent; // Remove highlight effect
  }
}

// Horizontal rule
hr {
  height: 1px;
  background-color: $border-color;
  border: none;
  margin: 2rem 0;
}

// Header styling
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 3rem;
  margin-top: 1rem;
  
  .site-title {
    font-weight: 400;
    font-size: 1.1rem;
    
    a {
      border-bottom: none;
      color: #555;
      
      &:hover {
        color: $link-hover-color;
      }
    }
  }
  
  .nav-links {
    display: flex;
    align-items: center;
    
    a {
      margin-left: 1.5rem;
      border-bottom: none;
      color: #555;
      font-size: 1.1rem; // Match site-title
      line-height: 1.5; // Consistent line height
      
      &:hover {
        color: $link-hover-color;
        border-bottom: none;
      }
    }
  }
}

// Note and post metadata
.note-metadata, .post-metadata {
  color: #555;
  font-size: 0.9rem;
  margin-bottom: 2rem;
}

// Latest post styling
.latest {
  margin-bottom: 3rem;
  
  h3 {
    margin-top: 0.5rem;
    margin-bottom: 0.25rem;
  }
  
  .date {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 1rem;
  }
}

// Writing List Steph Ango Style
.writing-list {
  display: flex;
  flex-direction: column;
  margin-top: 1.5rem;
  padding-left: 0;
}

.writing-item {
  display: flex;
  align-items: baseline;
  margin-bottom: 0.6rem;
  line-height: 1.4;
}

.date-prefix {
  color: #777;
  font-size: 0.9rem;
  width: 5rem;
  display: inline-block;
  font-variant-numeric: tabular-nums;
  margin-right: 0.5rem;
}

.writing-title {
  border-bottom: none;
  text-decoration: underline;
  text-underline-offset: 2px;
  text-decoration-thickness: 1px;
  text-decoration-color: rgba(0, 0, 0, 0.3);
}

// Note and post content
.note-content, .post-content {
  h1, h2, h3 {
    margin-top: 2.5rem;
  }
  
  blockquote {
    margin-left: 0;
    padding-left: 1rem;
    border-left: 3px solid #ddd;
    color: #555;
    font-style: italic;
  }
  
  img {
    max-width: 100%;
    height: auto;
  }
  
  pre {
    background-color: #f5f5f5;
    padding: 1rem;
    overflow-x: auto;
    border-radius: 4px;
  }
  
  code {
    background-color: #f5f5f5;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 0.9em;
  }
}

// Note and post footer
.note-footer, .post-footer {
  margin-top: 4rem;
  padding-top: 2rem;
  border-top: 1px solid $border-color;
  
  .post-newsletter {
    background-color: #f9f9f9;
    padding: 1.5rem;
    border-radius: 5px;
    margin-bottom: 2rem;
    
    p {
      margin: 0;
      font-size: 0.95rem;
    }
  }
  
  .note-related {
    h3 {
      font-size: 1.1rem;
      margin-top: 0;
      margin-bottom: 1rem;
      color: #555;
    }
    
    ul {
      padding-left: 1.2rem;
      
      li {
        margin-bottom: 0.75rem;
      }
    }
  }
}

// Tags
.note-tags, .post-tags {
  margin-top: 2rem;
  
  .tag {
    display: inline-block;
    background: #f1f1f1;
    padding: 0.2rem 0.6rem;
    border-radius: 3px;
    font-size: 0.8rem;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    border-bottom: none;
    
    &:hover {
      background: #e5e5e5;
      border-bottom: none;
    }
  }
}

// Footer
footer {
  margin-top: 4rem;
  padding-top: 1rem;
  color: #777;
  font-size: 0.9rem;
  
  a {
    color: #777;
    
    &:hover {
      color: $link-color;
    }
  }
}

// Dark mode
.dark-theme {
  --text-color: #e1e1e1;
  --background-color: #1c1c1c;
  --link-color: #9e9e9e;
  --link-hover-color: #fff;
  --border-color: #333;
  --accent-color: #aaa;
  
  color: var(--text-color);
  background-color: var(--background-color);
  
  a {
    color: var(--link-color);
    
    &:hover {
      color: var(--link-hover-color);
      border-bottom-color: var(--link-hover-color);
    }
  }
  
  .header {
    .site-title a {
      color: #aaa;
      
      &:hover {
        color: #fff;
      }
    }
    
    .nav-links a {
      color: #aaa;
      
      &:hover {
        color: #fff;
      }
    }
  }
  
  .note-metadata {
    color: #999;
  }
  
  .date-prefix {
    color: #999;
  }
  
  .writing-title {
    text-decoration-color: rgba(255, 255, 255, 0.3);
  }
  
  hr {
    background-color: var(--border-color);
  }
  
  .note-content {
    blockquote {
      border-left-color: #444;
      color: #aaa;
    }
    
    pre, code {
      background-color: #2a2a2a;
    }
  }
  
  .note-footer {
    border-top-color: var(--border-color);
    
    .note-related h3 {
      color: #aaa;
    }
  }
  
  .note-tags .tag {
    background: #333;
    
    &:hover {
      background: #444;
    }
  }
}

// Light theme (for toggle)
.light-theme {
  color: $text-color;
  background-color: $background-color;
  
  a {
    color: $link-color;
    
    &:hover {
      color: $link-hover-color;
      border-bottom-color: $link-hover-color;
    }
  }
}

// Media query for dark mode
@media (prefers-color-scheme: dark) {
  body:not(.light-theme) {
    color: #e1e1e1;
    background-color: #1c1c1c;
    
    a {
      color: #9e9e9e;
      
      &:hover {
        color: #fff;
        border-bottom-color: #fff;
      }
    }
    
    .header {
      .site-title a {
        color: #aaa;
        
        &:hover {
          color: #fff;
        }
      }
      
      .nav-links a {
        color: #aaa;
        
        &:hover {
          color: #fff;
        }
      }
    }
    
    .note-metadata {
      color: #999;
    }
    
    hr {
      background-color: #333;
    }
    
    .note-content {
      blockquote {
        border-left-color: #444;
        color: #aaa;
      }
      
      pre, code {
        background-color: #2a2a2a;
      }
    }
    
    .note-footer {
      border-top-color: #333;
      
      .note-related h3 {
        color: #aaa;
      }
    }
    
    .note-tags .tag {
      background: #333;
      
      &:hover {
        background: #444;
      }
    }
  }
}



================================================
FILE: _sass/_normalize.scss
================================================
/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */

/* Document
   ========================================================================== */

/**
 * 1. Correct the line height in all browsers.
 * 2. Prevent adjustments of font size after orientation changes in iOS.
 */

 html {
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
}

/* Sections
   ========================================================================== */

/**
 * Remove the margin in all browsers.
 */

body {
  margin: 0;
}

/**
 * Correct the font size and margin on `h1` elements within `section` and
 * `article` contexts in Chrome, Firefox, and Safari.
 */

h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

/* Grouping content
   ========================================================================== */

/**
 * 1. Add the correct box sizing in Firefox.
 * 2. Show the overflow in Edge and IE.
 */

hr {
  box-sizing: content-box; /* 1 */
  height: 0; /* 1 */
  overflow: visible; /* 2 */
}

/**
 * 1. Correct the inheritance and scaling of font size in all browsers.
 * 2. Correct the odd `em` font sizing in all browsers.
 */

pre {
  font-size: 1em; /* 2 */
}

/* Text-level semantics
   ========================================================================== */

/**
 * Remove the gray background on active links in IE 10.
 */

a {
  background-color: transparent;
}

/**
 * 1. Remove the bottom border in Chrome 57-
 * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.
 */

abbr[title] {
  border-bottom: none; /* 1 */
  text-decoration: underline; /* 2 */
  text-decoration: underline dotted; /* 2 */
}

/**
 * Add the correct font weight in Chrome, Edge, and Safari.
 */

b,
strong {
  font-weight: bolder;
}

/**
 * 1. Correct the inheritance and scaling of font size in all browsers.
 * 2. Correct the odd `em` font sizing in all browsers.
 */

code,
kbd,
samp {
  font-size: 1em; /* 2 */
}

/**
 * Add the correct font size in all browsers.
 */

small {
  font-size: 80%;
}

/**
 * Prevent `sub` and `sup` elements from affecting the line height in
 * all browsers.
 */

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/* Embedded content
   ========================================================================== */

/**
 * Remove the border on images inside links in IE 10.
 */

img {
  border-style: none;
}

/* Forms
   ========================================================================== */

/**
 * 1. Change the font styles in all browsers.
 * 2. Remove the margin in Firefox and Safari.
 */

button,
input,
optgroup,
select,
textarea {
  font-size: 100%; /* 1 */
  line-height: 1.15; /* 1 */
  margin: 0; /* 2 */
}

/**
 * Show the overflow in IE.
 * 1. Show the overflow in Edge.
 */

button,
input { /* 1 */
  overflow: visible;
}

/**
 * Remove the inheritance of text transform in Edge, Firefox, and IE.
 * 1. Remove the inheritance of text transform in Firefox.
 */

button,
select { /* 1 */
  text-transform: none;
}

/**
 * Correct the inability to style clickable types in iOS and Safari.
 */

button,
[type="button"],
[type="reset"],
[type="submit"] {
  -webkit-appearance: button;
}

/**
 * Remove the inner border and padding in Firefox.
 */

button::-moz-focus-inner,
[type="button"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner {
  border-style: none;
  padding: 0;
}

/**
 * Restore the focus styles unset by the previous rule.
 */

button:-moz-focusring,
[type="button"]:-moz-focusring,
[type="reset"]:-moz-focusring,
[type="submit"]:-moz-focusring {
  outline: 1px dotted ButtonText;
}

/**
 * Correct the padding in Firefox.
 */

fieldset {
  padding: 0.35em 0.75em 0.625em;
}

/**
 * 1. Correct the text wrapping in Edge and IE.
 * 2. Correct the color inheritance from `fieldset` elements in IE.
 * 3. Remove the padding so developers are not caught out when they zero out
 *    `fieldset` elements in all browsers.
 */

legend {
  box-sizing: border-box; /* 1 */
  color: inherit; /* 2 */
  display: table; /* 1 */
  max-width: 100%; /* 1 */
  padding: 0; /* 3 */
  white-space: normal; /* 1 */
}

/**
 * Add the correct vertical alignment in Chrome, Firefox, and Opera.
 */

progress {
  vertical-align: baseline;
}

/**
 * Remove the default vertical scrollbar in IE 10+.
 */

textarea {
  overflow: auto;
}

/**
 * 1. Add the correct box sizing in IE 10.
 * 2. Remove the padding in IE 10.
 */

[type="checkbox"],
[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Correct the cursor style of increment and decrement buttons in Chrome.
 */

[type="number"]::-webkit-inner-spin-button,
[type="number"]::-webkit-outer-spin-button {
  height: auto;
}

/**
 * 1. Correct the odd appearance in Chrome and Safari.
 * 2. Correct the outline style in Safari.
 */

[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  outline-offset: -2px; /* 2 */
}

/**
 * Remove the inner padding in Chrome and Safari on macOS.
 */

[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

/**
 * 1. Correct the inability to style clickable types in iOS and Safari.
 * 2. Change font properties to `inherit` in Safari.
 */

::-webkit-file-upload-button {
  -webkit-appearance: button; /* 1 */
  font: inherit; /* 2 */
}

/* Interactive
   ========================================================================== */

/*
 * Add the correct display in Edge, IE 10+, and Firefox.
 */

details {
  display: block;
}

/*
 * Add the correct display in all browsers.
 */

summary {
  display: list-item;
}

/* Misc
   ========================================================================== */

/**
 * Add the correct display in IE 10+.
 */

template {
  display: none;
}

/**
 * Add the correct display in IE 10.
 */

[hidden] {
  display: none;
}



================================================
FILE: _sass/_style.scss
================================================
$color-primary: hsl(0, 0%, 10%);
$color-text: hsl(0, 0%, 20%);
$color-subtext: hsl(0, 0%, 30%);
$color-border: hsl(0, 0%, 85%);
$color-box-background: mix($color-primary, white, 4%);
$border-radius: 4px;
$font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial,
  sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;

body {
  box-sizing: content-box;
  font-family: $font-family;
  margin: 0 auto;
  line-height: 1.7;
  padding: 4vh 6vw;
  overflow-x: hidden;
  color: $color-text;
  font-size: 1rem;
  max-width: 63em;

  @media (min-width: 820px) {
    font-size: 1.2rem;
  }
}

time {
  display: block;
  color: $color-subtext;
  margin: 0.5em 0 1em;
}

footer {
  margin: 2em 0;
  font-size: 0.8em;
  color: mix($color-text, white, 80%);
  padding-top: 1em;
}

img {
  max-width: 100%;
  display: block;
  margin: 0 auto;
  max-height: 75vh;
  border-radius: $border-radius;
}

blockquote {
  padding: 1.5em;
  margin: 0;
  font-size: 0.88em;
  background: $color-box-background;
  border-radius: $border-radius;

  p {
    margin: 0;
  }
}

hr {
  width: 100%;
  border: 0;
  height: 1px;
  margin: 1.5em 0;
  background: $color-border;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  line-height: 1.3;
  margin-bottom: 0;
  padding-bottom: 0;
}

a {
  transition: background 300ms;
  padding: 0 0.1em;
  text-decoration: none;
  border-bottom: 1px solid $color-border;
  color: $color-primary;
  &:hover {
    color: black !important;
    background: #fffaf1;
  }
}

*:focus {
  background: #ffe8bc !important;
  color: black !important;
}

nav {
  margin: 1em 0 3em;
}

#notes-entry-container {
  display: grid;
  grid-gap: 2em;
  grid-template-areas:
    "content"
    "side";

  @media (min-width: 700px) {
    grid-template-columns: 3fr 1fr;
    grid-template-areas: "content side";
  }
}

.backlink-box {
  background: $color-box-background;
  padding: 1em;
  border-radius: $border-radius;
}

code {
  background: #f5f5f5;
  padding: 0.1em 0.2em;
  border-radius: 4px;
}

.invalid-link {
  color: #444444;
  cursor: help;
  background: #fafafa;
  padding: 0 0.1em;
}

.invalid-link-brackets {
  color: #ccc;
  cursor: help;
}


================================================
FILE: assets/js/theme-toggle.js
================================================
// Theme toggle functionality
document.addEventListener('DOMContentLoaded', function() {
  const themeToggle = document.getElementById('theme-toggle');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  
  // Set initial state based on user preference
  if (localStorage.getItem('theme')) {
    document.body.classList.add(localStorage.getItem('theme'));
    themeToggle.innerText = localStorage.getItem('theme') === 'dark-theme' ? '☀️' : '🌙';
    themeToggle.setAttribute('aria-label', localStorage.getItem('theme') === 'dark-theme' ? 'Switch to light mode' : 'Switch to dark mode');
  } else if (prefersDark) {
    document.body.classList.add('dark-theme');
    themeToggle.innerText = '☀️';
    themeToggle.setAttribute('aria-label', 'Switch to light mode');
  } else {
    document.body.classList.add('light-theme');
    themeToggle.innerText = '🌙';
    themeToggle.setAttribute('aria-label', 'Switch to dark mode');
  }
  
  themeToggle.addEventListener('click', (e) => {
    e.preventDefault();
    if (document.body.classList.contains('light-theme')) {
      document.body.classList.remove('light-theme');
      document.body.classList.add('dark-theme');
      themeToggle.innerText = '☀️';
      themeToggle.setAttribute('aria-label', 'Switch to light mode');
      localStorage.setItem('theme', 'dark-theme');
    } else {
      document.body.classList.remove('dark-theme');
      document.body.classList.add('light-theme');
      themeToggle.innerText = '🌙';
      themeToggle.setAttribute('aria-label', 'Switch to dark mode');
      localStorage.setItem('theme', 'light-theme');
    }
  });
});


